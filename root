{"version":1,"ops":[{"type":1,"author":{"id":"f5da7935a482ca65bf34e264f28644c14355887f"},"timestamp":1553115863,"metadata":{"github-id":"MDU6SXNzdWU0MjM0NzE2NzU=","github-url":"https://github.com/nh2/hatrace/issues/4","origin":"github"},"title":"Test failures","message":"I run tests on \n```\n$ uname -a\nLinux qdesktop 4.14.65-gentoo #1 SMP Sat Sep 22 15:19:49 MSK 2018 x86_64 Intel(R) Core(TM) i5-2300 CPU @ 2.80GHz GenuineIntel GNU/Linux\n```\nand I get the following reproducible failures\n```\nFailures:\n\n  test/HatraceSpec.hs:68:7: \n  1) Hatrace.traceCreateProcess does not hang when the traced program segfaults\n       expected: ExitFailure 139\n        but got: ExitFailure 11\n\n  To rerun use: --match \"/Hatrace/traceCreateProcess/does not hang when the traced program segfaults/\"\n\n  test/HatraceSpec.hs:84:7: \n  2) Hatrace.sourceTraceForkExecvFullPathWithSink allows obtaining all syscalls as a list for hello.asm\n       expected: [KnownSyscall Syscall_execve,KnownSyscall Syscall_write,KnownSyscall Syscall_exit]\n        but got: [KnownSyscall Syscall_rt_sigprocmask,KnownSyscall Syscall_execve,KnownSyscall Syscall_write,KnownSyscall Syscall_exit]\n\n  To rerun use: --match \"/Hatrace/sourceTraceForkExecvFullPathWithSink/allows obtaining all syscalls as a list for hello.asm/\"\n\n  test/HatraceSpec.hs:122:9: \n  3) Hatrace.sourceTraceForkExecvFullPathWithSink, subprocess tracing, can trace 'bash -c ./hello'\n       expected: [Syscall_clone,Syscall_write]\n        but got: [Syscall_write]\n\n  To rerun use: --match \"/Hatrace/sourceTraceForkExecvFullPathWithSink/subprocess tracing/can trace 'bash -c ./hello'/\"\n\nRandomized with seed 1551383026\n```\nI'll try to dig what could be wrong here but maybe @nh2 you could give some hints what I should check first?","files":null}]}